<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>策略模式</title>
</head>

<body>
    <h6>例如，绩效为 S 的人年终奖有 4 倍工资，绩效为 A 的人年终奖有 3 倍工资，而绩效为 B 的人年终奖是 2 倍工资。</h6>
</body>
<script>
    var performanceS = function () { };
    performanceS.prototype.calculate = function (salary) {
        return salary * 4;
    };
    var performanceA = function () { };
    performanceA.prototype.calculate = function (salary) {
        return salary * 3;
    }
    var performanceB = function () { };
    performanceA.prototype.calculate = function (salary) {
        return salary * 2;
    }
    var Bonus = function () {
        this.salary = null;//原始工资
        this.strategy = null; // 绩效等级对应的策略对象
    }
    Bonus.prototype.setSalary = function (salary) {
        this.salary = salary;
    }
    Bonus.prototype.setStrategy = function (strategy) {
        this.strategy = strategy; // 设置员工绩效等级对应的策略对象
    };
    Bonus.prototype.getBonus = function () { // 取得奖金数额
        return this.strategy.calculate(this.salary); // 把计算奖金的操作委托给对应的策略对象
    };

    var bonus = new Bonus();
    bonus.setSalary(10000);
    bonus.setStrategy(new performanceS()); // 设置策略对象
    console.log(bonus.getBonus()); // 输出：40000
    bonus.setStrategy(new performanceA()); // 设置策略对象
    console.log(bonus.getBonus()); // 输出：30000
</script>

</html>